2025-03-01 14:43:14,434 - __main__ - INFO - Starting experiment with timestamp: 20250301_144314
2025-03-01 14:43:14,434 - __main__ - INFO - Input file: /home/dsg/VORTEX_FINAL/PRODUCTION/DATA/raw/input_data.xlsx
2025-03-01 14:43:14,434 - __main__ - INFO - Output directory: outputs/experiment_20250301_144314
2025-03-01 14:43:14,434 - __main__ - INFO - Starting data preprocessing...
2025-03-01 14:43:16,337 - src.preprocessing.data_processor - INFO - Data successfully uploaded: (1816, 67)
2025-03-01 14:43:16,340 - src.preprocessing.data_processor - INFO - Encontrados 14 IDs duplicados
2025-03-01 14:43:16,341 - src.preprocessing.data_processor - INFO - Registros únicos después de eliminar duplicados: 1802
2025-03-01 14:43:16,342 - src.preprocessing.data_processor - INFO - Eliminando 6 clases con menos de 10 casos
2025-03-01 14:43:16,345 - src.preprocessing.data_processor - INFO - División de datos - Entrenamiento: (1600, 46), Validación: (178, 46)
2025-03-01 14:43:16,425 - src.preprocessing.data_processor - INFO - Datos balanceados - Shape final: (2256, 45)
2025-03-01 14:43:18,558 - src.preprocessing.data_processor - INFO - Datos de entrenamiento guardados en outputs/experiment_20250301_144314/data/processed/training_data_20250301_144314.xlsx
2025-03-01 14:43:18,715 - src.preprocessing.data_processor - INFO - Datos de validación guardados en outputs/experiment_20250301_144314/data/processed/validation_data_20250301_144314.xlsx
2025-03-01 14:43:18,715 - __main__ - INFO - Starting model training...
2025-03-01 14:43:18,715 - src.training.model_trainer - INFO - Configuring training experiment...
2025-03-01 14:43:22,038 - src.training.model_trainer - INFO - Experiment configured successfully
2025-03-01 14:43:22,038 - src.training.model_trainer - INFO - Starting model training...
2025-03-01 14:43:34,587 - src.training.model_trainer - INFO - Optimizing hyperparameters...
2025-03-01 14:44:15,526 - src.training.model_trainer - INFO - Saving tuned model before calibration...
2025-03-01 14:44:15,807 - src.training.model_trainer - INFO - Calibrating model probabilities...
2025-03-01 14:44:56,450 - src.training.model_trainer - INFO - Training completed successfully
2025-03-01 14:44:56,450 - src.training.model_trainer - INFO - Evaluating model on validation data...
2025-03-01 14:44:57,800 - src.training.model_trainer - INFO - Evaluation completed
2025-03-01 14:44:57,800 - __main__ - INFO - Starting feature importance analysis...
2025-03-01 14:44:57,802 - __main__ - INFO - Retrieving tuned model for feature importance analysis...
2025-03-01 14:44:57,802 - __main__ - INFO - Running feature importance analysis...
2025-03-01 14:44:57,803 - src.analysis.feature_importance_analyzer - INFO - Starting feature importance analysis...
2025-03-01 14:44:57,803 - src.analysis.feature_importance_analyzer - INFO - Data shape: X=(2256, 44), y=(2256,)
2025-03-01 14:44:57,803 - src.analysis.feature_importance_analyzer - INFO - Output directory: outputs/experiment_20250301_144314
2025-03-01 14:44:57,803 - src.analysis.feature_importance_analyzer - INFO - Starting RFECV analysis...
2025-03-01 14:44:57,803 - src.analysis.feature_importance_analyzer - INFO - Running RFECV with 10 iterations...
2025-03-01 14:44:57,853 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 1/10
2025-03-01 14:47:28,890 - src.analysis.feature_importance_analyzer - INFO - Iteration 1 completed: selected 42 features
2025-03-01 14:47:28,891 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 2/10
2025-03-01 14:50:13,812 - src.analysis.feature_importance_analyzer - INFO - Iteration 2 completed: selected 31 features
2025-03-01 14:50:13,813 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 3/10
2025-03-01 14:52:46,352 - src.analysis.feature_importance_analyzer - INFO - Iteration 3 completed: selected 42 features
2025-03-01 14:52:46,353 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 4/10
2025-03-01 14:55:32,689 - src.analysis.feature_importance_analyzer - INFO - Iteration 4 completed: selected 28 features
2025-03-01 14:55:32,689 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 5/10
2025-03-01 14:58:22,858 - src.analysis.feature_importance_analyzer - INFO - Iteration 5 completed: selected 25 features
2025-03-01 14:58:22,858 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 6/10
2025-03-01 15:01:03,098 - src.analysis.feature_importance_analyzer - INFO - Iteration 6 completed: selected 38 features
2025-03-01 15:01:03,100 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 7/10
2025-03-01 15:03:38,743 - src.analysis.feature_importance_analyzer - INFO - Iteration 7 completed: selected 39 features
2025-03-01 15:03:38,744 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 8/10
2025-03-01 15:06:19,726 - src.analysis.feature_importance_analyzer - INFO - Iteration 8 completed: selected 35 features
2025-03-01 15:06:19,726 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 9/10
2025-03-01 15:09:19,448 - src.analysis.feature_importance_analyzer - INFO - Iteration 9 completed: selected 24 features
2025-03-01 15:09:19,449 - src.analysis.feature_importance_analyzer - INFO - RFECV iteration 10/10
2025-03-01 15:12:01,752 - src.analysis.feature_importance_analyzer - INFO - Iteration 10 completed: selected 42 features
2025-03-01 15:12:01,765 - src.analysis.feature_importance_analyzer - INFO - Creating RFECV plot...
2025-03-01 15:12:02,458 - src.analysis.feature_importance_analyzer - INFO - RFECV plot saved successfully
2025-03-01 15:12:02,462 - src.analysis.feature_importance_analyzer - INFO - Creating feature importance plot...
2025-03-01 15:12:02,472 - src.analysis.feature_importance_analyzer - INFO - Creating feature importance dot plot based on importance values...
2025-03-01 15:12:03,270 - src.analysis.feature_importance_analyzer - INFO - Feature importance plot saved successfully
2025-03-01 15:12:03,270 - src.analysis.feature_importance_analyzer - INFO - Running SHAP analysis...
2025-03-01 15:12:03,270 - src.analysis.feature_importance_analyzer - INFO - Running SHAP analysis...
2025-03-01 15:12:14,288 - src.analysis.feature_importance_analyzer - INFO - SHAP analysis completed successfully
2025-03-01 15:12:14,289 - src.analysis.feature_importance_analyzer - INFO - Feature importance analysis completed successfully
2025-03-01 15:12:14,289 - __main__ - INFO - Starting specific models training...
2025-03-01 15:12:14,289 - src.training.specific_models_trainer - INFO - Features pool set with 4 configurations
2025-03-01 15:12:14,290 - src.training.specific_models_trainer - INFO - Starting training of all specific models...
2025-03-01 15:12:14,290 - src.training.specific_models_trainer - INFO - 
==================================================
2025-03-01 15:12:14,290 - src.training.specific_models_trainer - INFO - Processing configuration: trainning_features_Destilled
2025-03-01 15:12:14,290 - src.training.specific_models_trainer - INFO - ==================================================
2025-03-01 15:12:14,299 - src.training.specific_models_trainer - INFO - Training data shape: (2256, 14), class distribution: Site
PDLC    752
CT      752
PCM     752
Name: count, dtype: int64
2025-03-01 15:12:14,300 - src.training.specific_models_trainer - INFO - Validation data shape: (178, 14), class distribution: Site
CT      76
PDLC    54
PCM     48
Name: count, dtype: int64
2025-03-01 15:12:14,310 - src.training.specific_models_trainer - INFO - Balanced data shape: (2256, 14), distribution: Site
PDLC    752
CT      752
PCM     752
Name: count, dtype: int64
2025-03-01 15:12:14,319 - src.training.specific_models_trainer - INFO - Training model rf_Destilled...
2025-03-01 15:12:15,364 - src.training.specific_models_trainer - INFO - Calibrating model rf_Destilled...
2025-03-01 15:12:15,414 - src.training.specific_models_trainer - INFO - Evaluating model rf_Destilled...
2025-03-01 15:12:15,445 - src.training.specific_models_trainer - INFO - Classification report saved in: outputs/experiment_20250301_144314/tables/rf_Destilled_classification_report.csv
2025-03-01 15:12:15,742 - src.training.specific_models_trainer - INFO - Confusion matrix saved in: outputs/experiment_20250301_144314/plots/rf_Destilled_confusion_matrix.png
2025-03-01 15:12:15,753 - src.training.specific_models_trainer - INFO - Model saved in: outputs/experiment_20250301_144314/models/rf_Destilled_calibrated.pkl
2025-03-01 15:12:15,754 - src.training.specific_models_trainer - INFO - 
==================================================
2025-03-01 15:12:15,754 - src.training.specific_models_trainer - INFO - Processing configuration: trainning_features_French
2025-03-01 15:12:15,754 - src.training.specific_models_trainer - INFO - ==================================================
2025-03-01 15:12:15,759 - src.training.specific_models_trainer - INFO - Training data shape: (2256, 22), class distribution: Site
PDLC    752
CT      752
PCM     752
Name: count, dtype: int64
2025-03-01 15:12:15,760 - src.training.specific_models_trainer - INFO - Validation data shape: (178, 22), class distribution: Site
CT      76
PDLC    54
PCM     48
Name: count, dtype: int64
2025-03-01 15:12:15,771 - src.training.specific_models_trainer - INFO - Balanced data shape: (2256, 22), distribution: Site
PDLC    752
CT      752
PCM     752
Name: count, dtype: int64
2025-03-01 15:12:15,775 - src.training.specific_models_trainer - INFO - Training model rf_French...
2025-03-01 15:12:17,047 - src.training.specific_models_trainer - INFO - Calibrating model rf_French...
2025-03-01 15:12:17,075 - src.training.specific_models_trainer - INFO - Evaluating model rf_French...
2025-03-01 15:12:17,101 - src.training.specific_models_trainer - INFO - Classification report saved in: outputs/experiment_20250301_144314/tables/rf_French_classification_report.csv
2025-03-01 15:12:17,408 - src.training.specific_models_trainer - INFO - Confusion matrix saved in: outputs/experiment_20250301_144314/plots/rf_French_confusion_matrix.png
2025-03-01 15:12:17,417 - src.training.specific_models_trainer - INFO - Model saved in: outputs/experiment_20250301_144314/models/rf_French_calibrated.pkl
2025-03-01 15:12:17,417 - src.training.specific_models_trainer - INFO - 
==================================================
2025-03-01 15:12:17,417 - src.training.specific_models_trainer - INFO - Processing configuration: trainning_features_Quiruelas
2025-03-01 15:12:17,417 - src.training.specific_models_trainer - INFO - ==================================================
2025-03-01 15:12:17,422 - src.training.specific_models_trainer - INFO - Training data shape: (2256, 17), class distribution: Site
PDLC    752
CT      752
PCM     752
Name: count, dtype: int64
2025-03-01 15:12:17,424 - src.training.specific_models_trainer - INFO - Validation data shape: (178, 17), class distribution: Site
CT      76
PDLC    54
PCM     48
Name: count, dtype: int64
2025-03-01 15:12:17,434 - src.training.specific_models_trainer - INFO - Balanced data shape: (2256, 17), distribution: Site
PDLC    752
CT      752
PCM     752
Name: count, dtype: int64
2025-03-01 15:12:17,440 - src.training.specific_models_trainer - INFO - Training model rf_Quiruelas...
2025-03-01 15:12:18,744 - src.training.specific_models_trainer - INFO - Calibrating model rf_Quiruelas...
2025-03-01 15:12:18,770 - src.training.specific_models_trainer - INFO - Evaluating model rf_Quiruelas...
2025-03-01 15:12:18,797 - src.training.specific_models_trainer - INFO - Classification report saved in: outputs/experiment_20250301_144314/tables/rf_Quiruelas_classification_report.csv
2025-03-01 15:12:19,085 - src.training.specific_models_trainer - INFO - Confusion matrix saved in: outputs/experiment_20250301_144314/plots/rf_Quiruelas_confusion_matrix.png
2025-03-01 15:12:19,094 - src.training.specific_models_trainer - INFO - Model saved in: outputs/experiment_20250301_144314/models/rf_Quiruelas_calibrated.pkl
2025-03-01 15:12:19,095 - src.training.specific_models_trainer - INFO - 
==================================================
2025-03-01 15:12:19,095 - src.training.specific_models_trainer - INFO - Processing configuration: trainning_features_VdH
2025-03-01 15:12:19,095 - src.training.specific_models_trainer - INFO - ==================================================
2025-03-01 15:12:19,100 - src.training.specific_models_trainer - INFO - Training data shape: (2256, 19), class distribution: Site
PDLC    752
CT      752
PCM     752
Name: count, dtype: int64
2025-03-01 15:12:19,100 - src.training.specific_models_trainer - INFO - Validation data shape: (178, 19), class distribution: Site
CT      76
PDLC    54
PCM     48
Name: count, dtype: int64
2025-03-01 15:12:19,110 - src.training.specific_models_trainer - INFO - Balanced data shape: (2256, 19), distribution: Site
PDLC    752
CT      752
PCM     752
Name: count, dtype: int64
2025-03-01 15:12:19,115 - src.training.specific_models_trainer - INFO - Training model rf_VdH...
2025-03-01 15:12:20,476 - src.training.specific_models_trainer - INFO - Calibrating model rf_VdH...
2025-03-01 15:12:20,504 - src.training.specific_models_trainer - INFO - Evaluating model rf_VdH...
2025-03-01 15:12:20,533 - src.training.specific_models_trainer - INFO - Classification report saved in: outputs/experiment_20250301_144314/tables/rf_VdH_classification_report.csv
2025-03-01 15:12:20,834 - src.training.specific_models_trainer - INFO - Confusion matrix saved in: outputs/experiment_20250301_144314/plots/rf_VdH_confusion_matrix.png
2025-03-01 15:12:20,844 - src.training.specific_models_trainer - INFO - Model saved in: outputs/experiment_20250301_144314/models/rf_VdH_calibrated.pkl
2025-03-01 15:12:20,844 - src.training.specific_models_trainer - INFO - 

================================================================================
2025-03-01 15:12:20,844 - src.training.specific_models_trainer - INFO - MODEL PERFORMANCE SUMMARY
2025-03-01 15:12:20,844 - src.training.specific_models_trainer - INFO - ================================================================================
2025-03-01 15:12:20,845 - src.training.specific_models_trainer - INFO - 
Model: rf_Destilled
2025-03-01 15:12:20,845 - src.training.specific_models_trainer - INFO - Accuracy: 0.9607
2025-03-01 15:12:20,845 - src.training.specific_models_trainer - INFO - F1-score (macro avg): 0.9599
2025-03-01 15:12:20,846 - src.training.specific_models_trainer - INFO - F1-score (weighted avg): 0.9605
2025-03-01 15:12:20,846 - src.training.specific_models_trainer - INFO - --------------------------------------------------
2025-03-01 15:12:20,846 - src.training.specific_models_trainer - INFO - 
Model: rf_French
2025-03-01 15:12:20,846 - src.training.specific_models_trainer - INFO - Accuracy: 0.9551
2025-03-01 15:12:20,847 - src.training.specific_models_trainer - INFO - F1-score (macro avg): 0.9542
2025-03-01 15:12:20,847 - src.training.specific_models_trainer - INFO - F1-score (weighted avg): 0.9549
2025-03-01 15:12:20,847 - src.training.specific_models_trainer - INFO - --------------------------------------------------
2025-03-01 15:12:20,847 - src.training.specific_models_trainer - INFO - 
Model: rf_Quiruelas
2025-03-01 15:12:20,847 - src.training.specific_models_trainer - INFO - Accuracy: 0.9494
2025-03-01 15:12:20,847 - src.training.specific_models_trainer - INFO - F1-score (macro avg): 0.9465
2025-03-01 15:12:20,848 - src.training.specific_models_trainer - INFO - F1-score (weighted avg): 0.9493
2025-03-01 15:12:20,848 - src.training.specific_models_trainer - INFO - --------------------------------------------------
2025-03-01 15:12:20,848 - src.training.specific_models_trainer - INFO - 
Model: rf_VdH
2025-03-01 15:12:20,848 - src.training.specific_models_trainer - INFO - Accuracy: 0.9157
2025-03-01 15:12:20,848 - src.training.specific_models_trainer - INFO - F1-score (macro avg): 0.9144
2025-03-01 15:12:20,848 - src.training.specific_models_trainer - INFO - F1-score (weighted avg): 0.9154
2025-03-01 15:12:20,848 - src.training.specific_models_trainer - INFO - --------------------------------------------------
2025-03-01 15:12:20,849 - src.training.specific_models_trainer - INFO - 
Process completed successfully!
2025-03-01 15:12:20,849 - __main__ - INFO - 
Top 14 most important features:
2025-03-01 15:12:20,850 - __main__ - INFO - - Ca: 0.2120
2025-03-01 15:12:20,850 - __main__ - INFO - - As: 0.1201
2025-03-01 15:12:20,850 - __main__ - INFO - - Ba: 0.0702
2025-03-01 15:12:20,850 - __main__ - INFO - - V: 0.0689
2025-03-01 15:12:20,851 - __main__ - INFO - - Sr: 0.0659
2025-03-01 15:12:20,851 - __main__ - INFO - - Cr: 0.0483
2025-03-01 15:12:20,851 - __main__ - INFO - - Mo: 0.0443
2025-03-01 15:12:20,851 - __main__ - INFO - - Ta: 0.0440
2025-03-01 15:12:20,852 - __main__ - INFO - - Cu: 0.0346
2025-03-01 15:12:20,852 - __main__ - INFO - - K: 0.0329
2025-03-01 15:12:20,852 - __main__ - INFO - - Ti: 0.0290
2025-03-01 15:12:20,852 - __main__ - INFO - - Se: 0.0212
2025-03-01 15:12:20,853 - __main__ - INFO - - S: 0.0178
2025-03-01 15:12:20,853 - __main__ - INFO - - Cl: 0.0173
2025-03-01 15:12:20,856 - __main__ - INFO - Process completed successfully!
2025-03-01 15:12:20,856 - __main__ - INFO - Results saved in: outputs/experiment_20250301_144314
